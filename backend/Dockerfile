FROM node:20-alpine

# Създаваме работна папка
WORKDIR /app

# Копираме файловете за библиотеките
COPY package*.json ./

# Инсталираме зависимостите (използваме install, защото видяхме, че ci прави проблем)
RUN npm install

# Копираме целия останал код
COPY . .

# Експонираме порта, на който работи твоя Express сървър
EXPOSE 5000

# Стартираме сървъра
CMD ["npm", "start"]